<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BFSc. Study Hub | OUAT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-primary: #0a69a3; --brand-secondary: #008ac5;
            --bg-main: #f4f7fa; --bg-panel: #ffffff;
            --text-primary: #2c3e50; --text-secondary: #5f7d95;
            --border-light: #e6e9ed; --hover-light: #e9f5ff;
            --search-bg: #f0f3f6; --shadow: rgba(44, 62, 80, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg-main); color: var(--text-primary); overflow: hidden; }
        .app-container { display: flex; width: 100%; height: 100%; }

        /* --- File Manager --- */
        .file-manager { width: 100%; height: 100%; background-color: var(--bg-panel); display: flex; flex-direction: column; box-shadow: 0 0 20px var(--shadow); }
        .header { padding: 20px; border-bottom: 1px solid var(--border-light); display: flex; align-items: center; flex-shrink: 0; }
        .logo { width: 48px; height: 48px; margin-right: 15px; }
        .header h1 { font-family: 'Poppins', sans-serif; font-size: 1.3rem; font-weight: 600; color: var(--brand-primary); }
        .header span { font-size: 0.8rem; color: var(--text-secondary); }
        .search-container { padding: 15px 20px; border-bottom: 1px solid var(--border-light); flex-shrink: 0; }
        .search-box { position: relative; }
        #search-input { width: 100%; padding: 12px 15px 12px 40px; border-radius: 8px; border: 1px solid var(--border-light); background-color: var(--search-bg); font-size: 0.95rem; outline: none; transition: all 0.2s ease; }
        #search-input:focus { border-color: var(--brand-secondary); box-shadow: 0 0 0 3px rgba(0, 138, 197, 0.15); }
        .search-box .fa-magnifying-glass { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); }
        .folder-list-wrapper { flex-grow: 1; overflow-y: auto; position: relative; }
        #folder-list-container { padding: 10px 0; }
        #no-results { display: none; text-align: center; padding: 40px 20px; color: var(--text-secondary); position: absolute; top: 20px; width: 100%; }
        #no-results i { font-size: 2.5rem; margin-bottom: 10px; }
        .folder { padding: 5px 20px; transition: opacity 0.3s ease; }
        .folder-header { display: flex; align-items: center; font-size: 1rem; font-weight: 500; cursor: pointer; padding: 10px; border-radius: 6px; transition: background-color 0.2s; }
        .folder-header:hover { background-color: var(--hover-light); }
        .folder.open > .folder-header { background-color: var(--hover-light); }
        .folder-header .folder-icon { color: #ffca28; font-size: 1.2rem; margin-right: 12px; width: 20px; transition: transform 0.2s ease-in-out; }
        .folder-header .chevron-icon { margin-left: auto; transition: transform 0.3s ease; }
        .folder-header:hover .folder-icon { transform: scale(1.1); } /* Icon Animation */
        .folder.open > .folder-header .chevron-icon { transform: rotate(90deg); }
        .file-list { list-style: none; padding-left: 45px; max-height: 0; overflow: hidden; transition: max-height 0.4s ease-in-out; }
        .folder.open > .file-list { margin-top: 5px; }
        .file-item { display: flex; align-items: center; padding: 10px 8px; margin: 2px 0; border-radius: 5px; cursor: pointer; transition: all 0.2s; font-size: 0.9rem; }
        .file-item:hover { background-color: var(--hover-light); }
        .file-item.active { background-color: var(--brand-primary); color: white; }
        .file-item .pdf-icon { color: #e63946; margin-right: 12px; transition: transform 0.2s ease-in-out; }
        .file-item.active .pdf-icon { color: white; }
        .file-item:hover .pdf-icon { transform: scale(1.1); } /* Icon Animation */
        footer { padding: 15px 20px; text-align: center; font-size: 0.8rem; color: var(--text-secondary); border-top: 1px solid var(--border-light); flex-shrink: 0; background-color: #fcfdff; }

        /* --- PDF Viewer --- */
        .content-viewer { display: none; width: 100%; height: 100%; flex-direction: column; background-color: var(--bg-panel); }
        .viewer-header { padding: 0 20px; height: 80px; display: flex; align-items: center; border-bottom: 1px solid var(--border-light); font-weight: 500; flex-shrink: 0; }
        .back-button { font-size: 1.5rem; color: var(--brand-primary); margin-right: 15px; cursor: pointer; padding: 10px; border-radius: 50%; transition: background-color 0.2s; }
        .back-button:hover { background-color: var(--hover-light); }
        .pdf-title { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.1rem; }
        .pdf-frame-container { flex-grow: 1; background: #4b5257; position: relative; }
        #pdf-viewer { width: 100%; height: 100%; border: none; }
        #pdf-loader { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 50px; height: 50px; border: 5px solid rgba(255,255,255,0.2); border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite; display: none; }
        @keyframes spin { 100% { transform: translate(-50%, -50%) rotate(360deg); } }
        .viewer-controls { position: absolute; bottom: 0; left: 0; right: 0; display: flex; justify-content: space-between; align-items: center; padding: 15px 25px; background: linear-gradient(to top, rgba(0,0,0,0.5), transparent); opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; z-index: 10; }
        body.pdf-loaded .viewer-controls { opacity: 1; visibility: visible; }
        .viewer-controls a, .viewer-controls button { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; text-shadow: 0 1px 3px rgba(0,0,0,0.7); padding: 10px; transition: transform 0.2s, color 0.2s; }
        .viewer-controls a:hover, .viewer-controls button:hover { transform: scale(1.15); }
        #page-info-tip { color: rgba(255, 255, 255, 0.8); font-size: 0.8rem; text-shadow: 0 1px 2px rgba(0,0,0,0.7); }
        
        /* --- View-Switching & Responsive --- */
        body.pdf-is-open .file-manager { display: none; }
        body.pdf-is-open .content-viewer { display: flex; }
        @media (min-width: 800px) {
            .file-manager { display: flex !important; width: 380px; flex-shrink: 0; }
            .content-viewer { display: flex !important; flex-grow: 1; }
            .back-button { display: none; }
            .viewer-header { justify-content: center; }
            #welcome-message { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; text-align: center; padding: 20px; color: var(--text-secondary); }
            #welcome-message .welcome-icon { font-size: 5rem; color: var(--brand-secondary); margin-bottom: 20px; }
            #welcome-message h2 { font-size: 2rem; font-weight: 600; margin-bottom: 10px; }
            #pdf-viewer { display: none; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="file-manager">
            <header class="header">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSIjMGE2OWEzIiBkPSJNNTAsMUMyMi45LDEsMSwyMi45LDEsNTBzMjEuOSw0OSw0OSw0OXM0OS0yMS45LDQ5LTQ5Uzc3LjEsMSw1MCwxeg0KCQkgTTM2LjYsNjguOGMtMi44LTEuNy0zLjctNS4xLTIuMS03LjlsNi45LTEyLjJsLTkuOCwwYy0zLjEsMC01LjctMi4yLTUuNy01LjJjMC0yLjksMi41LTUuMiw1LjUtNS4yaDkuOGwtMy4yLTUuNmMtMS44LTMuMSwwLjEtNi45LDMuNi04LjYNCgkJczcuOC0xLjEsOS43LDIuMWwyMy45LDQyYy00LjYsMi42LTguNCw0LjQtMTEuNSw1LjVsLTE5LjMtMTRjMy4xLDYuOCwxLjgsMTQtMy4zLDE3LjdDMzkuOCw3MSwzOC4yLDcwLDM2LjYsNjguOHoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNjMuOSw0NC42Yy0xLjgtMy4xLTEuNC02LjksMS4xLTguN2M0LjQtMy4xLDEwLjMtMS40LDEyLjUsMi40YzAuOSwxLjYsMS4xLDMuMywwLjUsNS4xDQoJCWMtMC4zLDAuOC0wLjcsMS41LTEuMywyLjFjLTEuOCwxLjgtNCwxLjktNi4xLDAuN2MtMS4xLTAuNi0yLjMtMS0zLjUtMS4xQzY2LDQ1LDY0LjksNDQuOCw2My45LDQ0LjZ6Ii8+PC9zdmc+" alt="BFSc. Logo" class="logo">
                <div><h1>BFSc. Study Hub</h1><span>OUAT Digital Library</span></div>
            </header>
            <div class="search-container"><div class="search-box"><i class="fa-solid fa-magnifying-glass"></i><input type="text" id="search-input" placeholder="Search notes..."></div></div>
            <div class="folder-list-wrapper"><nav id="folder-list-container"></nav><div id="no-results"><i class="fa-regular fa-compass"></i><p>No results found</p></div></div>
            <footer>Created by Pratyush Swain</footer>
        </aside>

        <main class="content-viewer">
            <header class="viewer-header"><i class="fa-solid fa-arrow-left back-button" onclick="goBack()"></i><span id="pdf-title">Select a file</span></header>
            <div class="pdf-frame-container" id="pdf-frame-container">
                <div id="pdf-loader"></div>
                <iframe id="pdf-viewer" title="PDF Viewer" allow="fullscreen"></iframe>
                <div class="viewer-controls">
                    <a id="download-btn" title="Download PDF"><i class="fa-solid fa-download"></i></a>
                    <span id="page-info-tip" title="Use the browser's PDF toolbar for page navigation">Page numbers in viewer bar</span>
                    <button id="fullscreen-btn" title="Toggle Fullscreen"><i class="fa-solid fa-expand"></i></button>
                </div>
            </div>
        </main>
    </div>

<script>
// ===================================================================================
// === YOUR PRE-CONFIGURED COURSE DATA - NO NEED TO EDIT =============================
// ===================================================================================
const courseData = [
    {
        name: "AAHM-221 - Therapeutics in Aquaculture",
        files: [
            { name: "Therapeutics notes.pdf", path: "pdfs/AAHM-221/Therapeutics notes.pdf" },
            { name: "THERAPEUTICS PARASITE RED.pdf", path: "pdfs/AAHM-221/THERAPEUTICS PARASITE RED.pdf" },
        ]
    },
    {
        name: "AAHM - Diseases & Management",
        files: [
            { name: "AAHM - FISH DISEASES AND MANAGEMENT.pdf", path: "pdfs/AAHM-Diseases/AAHM - FISH DISEASES AND MANAGEMENT.pdf" },
            { name: "AAHM- 223 - Disease class note .pdf", path: "pdfs/AAHM-Diseases/AAHM- 223 - Disease class note .pdf" },
            { name: "DISEASES TABLE 3 pg.pdf", path: "pdfs/AAHM-Diseases/DISEASES TABLE 3 pg.pdf" },
        ]
    },
    {
        name: "AQ - Aquaculture & Hatchery Mgmt.",
        files: [
            { name: "AQ-221 - Finfish Hatchery Management .pdf", path: "pdfs/AQ-Hatchery/AQ-221 - Finfish Hatchery Management .pdf" },
            { name: "AQ-222 - Fish Nutrition and Feed Technology .pdf", path: "pdfs/AQ-Hatchery/AQ-222 - Fish Nutrition and Feed Technology .pdf" },
            { name: "AQ-223 - Shellfish Hatchery Management .pdf", path: "pdfs/AQ-Hatchery/AQ-223 - Shellfish Hatchery Management .pdf" },
        ]
    },
    {
        name: "FEES-221 - Fisheries Extension Education",
        files: [
            { name: "(Scanned) EXT note 1.pdf", path: "pdfs/FEES-221/(Scanned) EXT note 1.pdf" },
            { name: "(Scanned) EXT notes 2.pdf", path: "pdfs/FEES-221/(Scanned) EXT notes 2.pdf" },
        ]
    },
    {
        name: "FPT & FE - Processing & Craft",
        files: [
            { name: "CANNING+PACKAGING .pdf", path: "pdfs/FPT-Processing/CANNING+PACKAGING .pdf" },
            { name: "FE-221 - Fishing Craft Technology.pdf", path: "pdfs/FPT-Processing/FE-221 - Fishing Craft Technology.pdf" },
            { name: "FPT-221 - Fish Canning Technology .pdf", path: "pdfs/FPT-Processing/FPT-221 - Fish Canning Technology .pdf" },
            { name: "FPT-222 - Fish Packaging Technology .pdf", path: "pdfs/FPT-Processing/FPT-222 - Fish Packaging Technology .pdf" },
        ]
    }
];
// ===================================================================================
// === CORE APPLICATION LOGIC (No changes needed here) ===============================
// ===================================================================================
document.addEventListener('DOMContentLoaded', () => {
    const body = document.body;
    const folderContainer = document.getElementById('folder-list-container');
    const pdfViewer = document.getElementById('pdf-viewer');
    const pdfFrameContainer = document.getElementById('pdf-frame-container');
    const pdfTitle = document.getElementById('pdf-title');
    const pdfLoader = document.getElementById('pdf-loader');
    const searchInput = document.getElementById('search-input');
    const noResultsMsg = document.getElementById('no-results');
    const downloadBtn = document.getElementById('download-btn');
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    let currentPdf = { path: '', name: '' };
    const welcomeMessageHTML = `<div id="welcome-message"><i class="fa-solid fa-fish-fins welcome-icon"></i><h2>BFSc. Study Hub</h2><p>Select a PDF or use the search bar to begin.</p></div>`;
    const renderStructure = () => { let content = ''; courseData.forEach((folder, index) => { content += `<div class="folder" data-folder-index="${index}"><div class="folder-header" onclick="toggleFolder(this.parentElement)"><i class="fa-solid fa-folder folder-icon"></i><span class="folder-name">${folder.name}</span><i class="fa-solid fa-chevron-right chevron-icon"></i></div><ul class="file-list">`; folder.files.forEach(file => { content += `<li class="file-item" onclick="openPdf('${file.path}', '${file.name}', this)"><i class="fa-solid fa-file-pdf pdf-icon"></i><span class="file-name">${file.name}</span></li>`; }); content += `</ul></div>`; }); folderContainer.innerHTML = content; };
    const openFolder = (folderEl) => { if (!folderEl.classList.contains('open')) { folderEl.classList.add('open'); folderEl.querySelector('.file-list').style.maxHeight = folderEl.querySelector('.file-list').scrollHeight + "px"; } };
    const closeFolder = (folderEl) => { if (folderEl.classList.contains('open')) { folderEl.classList.remove('open'); folderEl.querySelector('.file-list').style.maxHeight = '0'; } };
    window.toggleFolder = (folderEl) => { folderEl.classList.contains('open') ? closeFolder(folderEl) : openFolder(folderEl); };
    const updateViewerControls = () => { if (currentPdf.path) { downloadBtn.href = currentPdf.path; downloadBtn.setAttribute('download', currentPdf.name); downloadBtn.style.pointerEvents = 'auto'; fullscreenBtn.style.pointerEvents = 'auto'; } else { downloadBtn.href = '#'; downloadBtn.removeAttribute('download'); downloadBtn.style.pointerEvents = 'none'; fullscreenBtn.style.pointerEvents = 'none'; } };
    window.openPdf = (path, name, element) => { currentPdf = { path, name }; body.classList.remove('pdf-loaded'); body.classList.add('pdf-is-open'); pdfLoader.style.display = 'block'; pdfViewer.style.display = 'none'; document.getElementById('welcome-message')?.remove(); pdfViewer.src = path; pdfTitle.textContent = name; document.querySelector('.file-item.active')?.classList.remove('active'); element.classList.add('active'); updateViewerControls(); };
    window.goBack = () => { currentPdf = { path: '', name: '' }; body.classList.remove('pdf-is-open', 'pdf-loaded'); pdfViewer.src = 'about:blank'; document.querySelector('.file-item.active')?.classList.remove('active'); updateViewerControls(); if (window.innerWidth >= 800 && !document.getElementById('welcome-message')) { pdfFrameContainer.insertAdjacentHTML('afterbegin', welcomeMessageHTML); } };
    pdfViewer.onload = () => { pdfLoader.style.display = 'none'; pdfViewer.style.display = 'block'; body.classList.add('pdf-loaded'); };
    const toggleFullScreen = () => { if (!document.fullscreenElement) { pdfFrameContainer.requestFullscreen().catch(err => { alert(`Error enabling full-screen: ${err.message}`); }); } else { document.exitFullscreen(); } };
    fullscreenBtn.addEventListener('click', toggleFullScreen);
    const handleSearch = (e) => { const query = e.target.value.toLowerCase(); let resultsFound = false; document.querySelectorAll('.folder').forEach(folderEl => { const folderName = folderEl.querySelector('.folder-name').textContent.toLowerCase(); const files = folderEl.querySelectorAll('.file-item'); let folderHasMatch = false; files.forEach(fileEl => { const fileName = fileEl.querySelector('.file-name').textContent.toLowerCase(); if (fileName.includes(query)) { fileEl.style.display = 'flex'; folderHasMatch = true; resultsFound = true; } else { fileEl.style.display = 'none'; } }); if (folderName.includes(query) || folderHasMatch) { folderEl.style.display = 'block'; if (query.length > 0) openFolder(folderEl); resultsFound = true; } else { folderEl.style.display = 'none'; } if (query.length === 0) closeFolder(folderEl); }); noResultsMsg.style.display = resultsFound ? 'none' : 'block'; };
    const init = () => { renderStructure(); if (window.innerWidth >= 800) { pdfFrameContainer.insertAdjacentHTML('afterbegin', welcomeMessageHTML); } searchInput.addEventListener('input', handleSearch); updateViewerControls(); };
    init();
});
</script>
</body>
</html>
