<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>My Night Sky For You ⭐️❤️</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

  /* Reset */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  html, body {
    height: 100%;
    width: 100%;
    font-family: 'Roboto', sans-serif;
    background: radial-gradient(ellipse at bottom, #0b0c19 0%, #050514 80%);
    overflow: hidden;
    color: #f0e6f6;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .container {
    position: relative;
    width: 350px;
    max-width: 95vw;
    height: 600px;
    background: rgba(15, 12, 35, 0.9);
    border-radius: 30px;
    box-shadow:
      0 0 30px rgba(200, 100, 220, 0.8),
      inset 0 0 40px rgba(180, 120, 230, 0.6);
    text-align: center;
    padding: 40px 30px 30px 30px;
    overflow: hidden;
    user-select: none;
    border: 2px solid #a85ef0;
    animation: containerPulse 6s ease-in-out infinite;
    z-index: 10;
  }

  @keyframes containerPulse {
    0%, 100% {
      box-shadow:
        0 0 30px rgba(200, 100, 220, 0.8),
        inset 0 0 40px rgba(180, 120, 230, 0.6);
    }
    50% {
      box-shadow:
        0 0 60px rgba(230, 150, 250, 1),
        inset 0 0 60px rgba(210, 170, 255, 0.9);
    }
  }

  h1 {
    font-weight: 700;
    font-size: 3.8rem;
    margin-bottom: 15px;
    color: #cba9ff;
    text-shadow:
      0 0 8px #b880ff,
      0 0 20px #9a5dff;
    animation: floatVertical 5s ease-in-out infinite;
  }

  p.subtitle {
    font-weight: 500;
    font-size: 1.25rem;
    color: #d4b4ff;
    margin-bottom: 30px;
    letter-spacing: 0.03em;
    text-shadow: 0 0 6px #b285ff;
    animation: floatVertical 7s ease-in-out infinite alternate;
  }

  p.message {
    font-size: 1.15rem;
    line-height: 1.6;
    max-width: 90%;
    margin: 0 auto 40px;
    color: #d9ccff;
    text-shadow: 0 0 6px #af7dff;
    animation: floatVertical 6s ease-in-out infinite;
  }

  footer {
    font-size: 1.1rem;
    color: #c3a6ff;
    text-shadow: 0 0 10px #b78eff;
    user-select: none;
    letter-spacing: 0.02em;
    animation: floatVertical 8s ease-in-out infinite alternate;
  }

  @keyframes floatVertical {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(8px);
    }
  }

  #starCanvas, #orbCanvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    border-radius: 30px;
    pointer-events: none;
    z-index: 1;
  }

  /* Shooting star style (DOM elements) */
  .shooting-star {
    position: absolute;
    width: 90px;
    height: 3px;
    background: linear-gradient(90deg, #d7b6ff 0%, #a97fff 100%);
    filter: drop-shadow(0 0 8px #ab7eff);
    opacity: 0;
    border-radius: 1.5px;
    transform: rotate(45deg);
    will-change: transform, opacity;
  }

</style>
</head>
<body>
  <div class="container" role="main" aria-label="Romantic night sky dedication for my wife">
    <canvas id="orbCanvas" aria-hidden="true"></canvas>
    <canvas id="starCanvas" aria-hidden="true"></canvas>

    <h1>My Night Sky ❤️</h1>
    <p class="subtitle">Where every star shines for you.</p>
    <p class="message">
      Under this endless night sky, you are my brightest star,<br>
      lighting up my world with your love.<br>
      Forever and always, you are my heart’s guiding light.<br>
      Just like these stars, my love for you is infinite.<br>
    </p>
    <footer>With all the love in the universe, just for you ✨</footer>
  </div>

  <video id="bgAudio" autoplay loop muted playsinline style="display:none;">
    <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp4" type="video/mp4" />
    Your browser does not support the audio tag.
  </video>

  <script>
    // Setup canvas dimensions and contexts
    const starCanvas = document.getElementById('starCanvas');
    const starCtx = starCanvas.getContext('2d');
    const orbCanvas = document.getElementById('orbCanvas');
    const orbCtx = orbCanvas.getContext('2d');

    let width, height;
    let stars = [];
    let orbs = [];

    function resize() {
      width = starCanvas.width = starCanvas.offsetWidth;
      height = starCanvas.height = starCanvas.offsetHeight;
      orbCanvas.width = width;
      orbCanvas.height = height;

      stars = [];
      orbs = [];

      // Create stars: count depends on viewport size
      const starCount = Math.floor(width * height / 900);
      for(let i=0; i<starCount; i++) {
        stars.push({
          x: Math.random() * width,
          y: Math.random() * height,
          radius: Math.random() * 1.3 + 0.3,
          twinkleSpeed: 0.01 + Math.random() * 0.02,
          alpha: Math.random(),
          increasing: Math.random() >= 0.5
        });
      }

      // Create orbs (glowing background orbs) with random movement
      const orbCount = 10;
      for(let i=0; i<orbCount; i++){
        orbs.push({
          x: Math.random() * width,
          y: Math.random() * height,
          size: 20 + Math.random() * 40,
          alpha: 0.1 + Math.random() * 0.15,
          xSpeed: (Math.random()-0.5) * 0.05,
          ySpeed: (Math.random()-0.5) * 0.03,
          phase: Math.random()*Math.PI*2
        });
      }
    }

    // Draw stars with twinkle effect
    function drawStars() {
      starCtx.clearRect(0, 0, width, height);
      stars.forEach(star => {
        // Update alpha for twinkle
        star.alpha += star.increasing ? star.twinkleSpeed : -star.twinkleSpeed;
        if(star.alpha >= 1) {
          star.alpha = 1;
          star.increasing = false;
        } else if(star.alpha <= 0) {
          star.alpha = 0;
          star.increasing = true;
        }

        starCtx.beginPath();
        starCtx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        starCtx.fillStyle = `rgba(255, 255, 255, ${star.alpha.toFixed(2)})`;
        starCtx.shadowColor = `rgba(200, 180, 255, ${star.alpha.toFixed(2)})`;
        starCtx.shadowBlur = 5;
        starCtx.fill();
      });
    }

    // Draw orbs for faint drifting glowing spots
    function drawOrbs(time) {
      orbCtx.clearRect(0, 0, width, height);
      orbs.forEach(orb => {
        orb.x += orb.xSpeed;
        orb.y += orb.ySpeed;
        orb.phase += 0.01;

        // Keep within bounds with wrap-around
        if(orb.x < -orb.size) orb.x = width + orb.size;
        if(orb.x > width + orb.size) orb.x = -orb.size;
        if(orb.y < -orb.size) orb.y = height + orb.size;
        if(orb.y > height + orb.size) orb.y = -orb.size;

        // pulse alpha using sine wave
        const orbAlpha = orb.alpha + 0.1 * Math.sin(orb.phase);

        const gradient = orbCtx.createRadialGradient(orb.x, orb.y, orb.size*0.1, orb.x, orb.y, orb.size);
        gradient.addColorStop(0, `rgba(200, 160, 255, ${orbAlpha.toFixed(2)})`);
        gradient.addColorStop(1, 'rgba(200, 160, 255, 0)');

        orbCtx.fillStyle = gradient;
        orbCtx.beginPath();
        orbCtx.arc(orb.x, orb.y, orb.size, 0, Math.PI*2);
        orbCtx.fill();
      });
    }

    // Shooting star DOM elements and animation
    const maxShootingStars = 3;
    const shootingStars = [];
    const container = document.querySelector('.container');

    function createShootingStar(){
      if(shootingStars.length >= maxShootingStars) return;

      const star = document.createElement('div');
      star.classList.add('shooting-star');
      star.style.top = (Math.random() * 300 + 50).toFixed(2) + 'px';
      star.style.left = '-100px';
      star.style.opacity = 1;
      star.style.animation = 'shoot 1.2s ease forwards';
      container.appendChild(star);
      shootingStars.push(star);

      star.addEventListener('animationend', () => {
        star.remove();
        shootingStars.splice(shootingStars.indexOf(star), 1);
      });
    }

    // Add shooting star keyframes dynamically
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shoot {
        0% {
          opacity: 1;
          transform: translateX(0) translateY(0) rotate(45deg);
        }
        100% {
          opacity: 0;
          transform: translateX(350px) translateY(350px) rotate(45deg);
        }
      }
    `;
    document.head.appendChild(style);

    // Main animation loop
    function animate(time = 0){
      drawStars();
      drawOrbs(time);
      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', resize);
    resize();
    animate();
    setInterval(createShootingStar, 2200);

    // Audio unmute on user interaction
    const bgAudio = document.getElementById('bgAudio');
    function unmuteAudio() {
      if(bgAudio.muted){
        bgAudio.muted = false;
        window.removeEventListener('click', unmuteAudio);
        window.removeEventListener('touchstart', unmuteAudio);
      }
    }
    window.addEventListener('click', unmuteAudio);
    window.addEventListener('touchstart', unmuteAudio);

  </script>
</body>
</html>
